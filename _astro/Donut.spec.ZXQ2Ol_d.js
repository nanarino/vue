import{v as b,a as x}from"./runtime-dom.esm-bundler.CncNHXS7.js";import{_ as w}from"./_plugin-vue_export-helper.DlAUqK2U.js";import{d as v,c as i,o as a,r as C,a as s,F as I,j as W,b as m,h as D,g,i as f,t as y,e as u,k as P}from"./runtime-core.esm-bundler.Cjvc9vqI.js";import{m as S}from"./message.CURnrVnq.js";const M=v({__name:"index",props:{items:{},strokeWidth:{default:60},onItemClick:{}},setup(k,{expose:r}){r();const o=k,t=m(()=>(o.strokeWidth||0)/2/(2*Math.PI*100)*100),d=m(()=>o.items.reduce((n,h)=>{const p=n.at(-1)?.stop??0;return[...n,{item:h,start:p,stop:p+h.proportion}]},[])),l=n=>-Math.cos(n*(2*Math.PI)/100)*100,e=n=>Math.sin(n*(2*Math.PI)/100)*100,c={props:o,offset:t,data:d,Y:l,X:e,P:n=>[e(n),l(n)]};return Object.defineProperty(c,"__isScriptSetup",{enumerable:!1,value:!0}),c}}),j={width:"100%",height:"100%",viewBox:"-180 -180 360 360",xmlns:"http://www.w3.org/2000/svg"},B=["stroke-width"],V=["data-key","onClick"],N=["d","stroke","stroke-width"],F=["textContent"],O=["stroke","stroke-width"],$=["textContent"];function q(k,r,o,t,d,l){return a(),i("svg",j,[C(k.$slots,"default",{},void 0),s("circle",{cx:"0",cy:"0",r:"100",fill:"transparent","stroke-linejoin":"round","stroke-linecap":"round",stroke:"rgb(var(--gray-2))","stroke-width":o.strokeWidth},null,8,B),(a(!0),i(I,null,W(t.data,({item:e,start:_,stop:c})=>(a(),i("g",{key:e.key,fill:"transparent","data-donut-item":"","data-key":e.key,onClick:()=>t.props.onItemClick?.(e),style:D({cursor:t.props.onItemClick?"pointer":"auto"})},[c-_<100?g((a(),i("path",{key:0,d:`
                    M ${t.P(_+t.offset)} 
                    A 100 100 
                    0 ${c-_>50?1:0} 1, 
                    ${t.P(c-t.offset)}
                    `,"stroke-linejoin":"round","stroke-linecap":"round",stroke:e.color||"rgb(var(--primary-4))","stroke-width":o.strokeWidth},[e.title?(a(),i("title",{key:0,textContent:y(e.title)},null,8,F)):f("",!0)],8,N)),[[b,c-_>0]]):(a(),i("circle",{key:1,cx:"0",cy:"0",r:"100",fill:"transparent","stroke-linejoin":"round","stroke-linecap":"round",stroke:e.color||"rgb(var(--primary-4))","stroke-width":o.strokeWidth},[e.title?(a(),i("title",{key:0,textContent:y(e.title)},null,8,$)):f("",!0)],8,O))],12,V))),128))])}const z=w(M,[["render",q],["__scopeId","data-v-8246bc44"]]),A=v({__name:"Donut.spec",setup(k,{expose:r}){r();const o=P(60);function t(l){console.log(l);const e=l.key;S({content:e,primary:"primary",style:{"--background-color-message":`var(--${e}-5)`,"--box-shadow-color":`var(--${e}-4)`}})}const d={strokeWidth:o,handleItemClick:t,get Donut(){return z}};return Object.defineProperty(d,"__isScriptSetup",{enumerable:!1,value:!0}),d}}),E={style:{display:"contents"}},L={style:{width:"200px"}},T={onsubmit:"return false"},U={class:"na-form-item"},X={class:"na-input-wrapper","data-validate":""};function Y(k,r,o,t,d,l){return a(),i("main",E,[s("section",null,[u(t.Donut,{items:[],"stroke-width":t.strokeWidth},null,8,["stroke-width"])]),s("section",null,[u(t.Donut,{items:[{color:"",key:1,proportion:100}],"stroke-width":t.strokeWidth},null,8,["stroke-width"])]),s("section",L,[u(t.Donut,{items:[{color:"rgb(var(--blue-4)",key:"blue",proportion:33},{color:"rgb(var(--cyan-4)",key:"cyan",proportion:67,title:"cyan 67%"}],"stroke-width":t.strokeWidth,onItemClick:t.handleItemClick},null,8,["stroke-width"])]),s("form",T,[s("label",U,[r[1]||(r[1]=s("span",null,"stroke-width",-1)),s("div",X,[g(s("input",{type:"number",class:"na-input","onUpdate:modelValue":r[0]||(r[0]=e=>t.strokeWidth=e),name:"stroke-width",max:99,min:9,required:""},null,512),[[x,t.strokeWidth]])])])])])}const Q=w(A,[["render",Y],["__scopeId","data-v-ff7c30ac"]]);export{Q as default};
